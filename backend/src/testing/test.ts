import { io } from "socket.io-client";
// token is the JWT token that you get after logging in
// Replace with your token
const socket = io("http://localhost:4000", {
  auth: {
    token: 
      "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFkbWluQDEyMyIsInVzZXJJZCI6IjY1ZjNlZGQwMjJlNmQ5NTg2MjcwM2U0NSIsImlhdCI6MTcxMDY0NzUyMCwiZXhwIjoxNzEwNzMzOTIwfQ.PauP-ehHxtIb07QUp1SKyK0AJqlGUL5rf2Pq34O1rcwP8PY5vd0UjFMcwoNtLDgc7Q4lAJfAcQfBk-JLxhwCmCmCG2nSaDhYp8iDUj7kqiIkj-fBdUBXvw3PMTrH1RgxIDnOqNGL8U655K8xLlFfzLOLozR-x5Tu4UPy5U-p0tYMB3unFUdp1Q0BKD4eQWlDeLZRFYzTMq3c13vmLWeCrfinmTwP9n0tQJPP2kBzXXFtCKSceE98FLrnIf0Doyf451-jWZxQYz41_CWqGz5lVzKn13mJsmKNBB4RhZh7zceW1OOUpaQ7Xtx7-ftfqcwWsT3aUMtNjth4Ot8nSEWKqg",
  },
});

socket.on("connect", () => {
  console.log("Connected to server");
});

const data = {
  userId: "65f3edd022e6d95862703e45",
  url: "tarcin.in",
  status: "pending",
  nmap: false,
  zap: false,
  result: "",
  _id: "65f68d3d9dbfdeda2c728264",
  __v: 0
};
socket.on("scan", (data: string) => {
  
  console.log("Received message:", JSON.stringify(data, null, 2));
});
socket.on("current-status", (data: string) => {
  console.log("Received message:", data);
}
)
socket.emit("current-status", data); // Send a message to the server
socket.emit("message", "Hello, server!"); // Send a message to the server
